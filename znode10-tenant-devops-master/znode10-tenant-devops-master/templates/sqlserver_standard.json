{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
      "serverName": {
          "type": "string",
          "defaultValue": "[uniqueString('sql', resourceGroup().id)]",
          "metadata": {
              "description": "The name of the SQL logical server."
          }
      },
      "location": {
          "type": "string",
          "defaultValue": "[resourceGroup().location]",
          "metadata": {
              "description": "Location for all resources."
          }
      },
      "administratorLogin": {
          "type": "string",
          "metadata": {
              "description": "The administrator username of the SQL logical server."
          }
      },
      "administratorLoginPassword": {
          "type": "secureString",
          "metadata": {
              "description": "The administrator password of the SQL logical server."
          }
      }
  },
  "variables": {},
  "resources": [
      {
          "type": "Microsoft.Sql/servers",
          "apiVersion": "2022-05-01-preview",
          "name": "[parameters('serverName')]",
          "location": "[parameters('location')]",
          "tags": {
               "parameters('serverName')": "parameters('serverName')"        
          },
          "properties": {
              "administratorLogin": "[parameters('administratorLogin')]",
              "administratorLoginPassword": "[parameters('administratorLoginPassword')]"
          }
      },        
      {
          "type": "Microsoft.Sql/servers/databases",
          "apiVersion": "2022-05-01-preview",
          "name": "[concat(parameters('serverName'), '/hgfr_z10')]",
          "location": "[parameters('location')]",
          "tags": {
              "parameters('serverName')": "parameters('serverName')"
          },
          "sku": {
              "name": "Standard",
              "tier": "Standard",
              "capacity": 10
          },
          "properties": {
              "requestedServiceObjectiveName": "S0" 
          },
          "dependsOn": [
              "[resourceId('Microsoft.Sql/servers', parameters('serverName'))]"
          ]
      },

      {
          "type": "Microsoft.Sql/servers/databases",
          "apiVersion": "2022-05-01-preview",
          "name": "[concat(parameters('serverName'), '/pymt_z10')]",
          "location": "[parameters('location')]",
          "tags": {
              "parameters('serverName')": "parameters('serverName')"
          },
          "sku": {
              "name": "Standard",
              "tier": "Standard",
              "capacity": 10
          },
          "properties": {
              "requestedServiceObjectiveName": "S0" 
          },
          "dependsOn": [
              "[resourceId('Microsoft.Sql/servers', parameters('serverName'))]"
          ]
      },
      {
          "type": "Microsoft.Sql/servers/databases",
          "apiVersion": "2022-05-01-preview",
          "name": "[concat(parameters('serverName'), '/rceg_z10')]",
          "location": "[parameters('location')]",
          "tags": {
              "parameters('serverName')": "parameters('serverName')"
          },
          "sku": {
              "name": "Standard",
              "tier": "Standard",
              "capacity": 10
          },
          "properties": {
             "requestedServiceObjectiveName": "S0" 
          },
          "dependsOn": [
              "[resourceId('Microsoft.Sql/servers', parameters('serverName'))]"
          ]
      },
      {
          "type": "Microsoft.Sql/servers/databases",
          "apiVersion": "2022-05-01-preview",
          "name": "[concat(parameters('serverName'), '/wbst_z10')]",
          "location": "[parameters('location')]",
          "tags": {
              "parameters('serverName')": "parameters('serverName')"
          },
          "sku": {
            "name": "GP_S_Gen5",
            "tier": "GeneralPurpose",
            "family": "Gen5",
            "capacity": 4
          },
          "kind": "v12.0,user,vcore,serverless",
          "properties": {
              "zoneRedundant": false,
              "readScale": "Disabled",
              "autoPauseDelay": 60,
              "requestedBackupStorageRedundancy": "Local",
              "minCapacity": 1
          },
          "dependsOn": [
              "[resourceId('Microsoft.Sql/servers', parameters('serverName'))]"
          ]
      }

    ],
    "outputs": {
    },
    "functions": [
    ]
}